---
import BaseLayout from "../layouts/base.astro";
import Icon from "../components/Icon.astro";
---

<BaseLayout bodyClass="map">
  <header>
    <h2 class="page-heading"><Icon name="map" />Map of Places</h2>
  </header>
  <section id="map">
    <Icon name="marker" className="marker" />
  </section>
  <script type="module" hoist>await import("./main-map.mjs");</script>
</BaseLayout>

<style>
  #map {
    border: 5px solid var(--palette-3);
    border-radius: var(--custom-border);
    box-shadow: 0 0 20px var(--palette-9), 8px 8px 8px rgb(0 0 0 / 80%);
    height: 800px;

    & > .marker {
      display: none;
    }

    :global(.leaflet-popup-content) {
      display: flex;
      flex-direction: column;
      gap: var(--size-1);

      :global(p:nth-child(even)) {
        background-color: var(--palette-0);
      }

      :global(p) {
        padding-inline: calc(var(--size-1) * 2) var(--size-1);
        text-indent: calc(-1 * var(--size-1));
        min-width: 200px;
      }
    }
  }
</style><style is:global>
  @import "leaflet/dist/leaflet.css";
  @import "../styles/leaflet-overrides.css";
</style>
